library(tidyverse)
categorised_feedback <- read_excel("data/Feedback_Classified.xlsx", sheet = 1)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1)
View(categorised_feedback)
View(categorised_feedback)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
clean_names()
library(tidyverse)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
clean_names()
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names()
categorised_feedback
user_status <- read_csv("data/user_status.csv") |>
janitor::clean_names()
user_status
user_status <- read_csv("data/user_status.csv") |>
select(c(1,2,3))
janitor::clean_names()
user_status <- read_csv("data/user_status.csv") |>
select(c(1,2,3)) |>
janitor::clean_names()
user_status
joined_tb <- left_join(categorised_feedback, user_status, join_by(user_id == meta_user_id))
View(categorised_feedback)
categorised_feedback
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id))
categorised_feedback
View(categorised_feedback)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(date = as.date(date), user_id = as.numeric(user_id))
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(date = as.Date(date), user_id = as.numeric(user_id))
categorised_feedback
View(categorised_feedback)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id),
data = parse_date_time(orders = c(dmy, mdy)))
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id),
data = parse_date_time(data, orders = c(dmy, mdy)))
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id),
data = parse_date_time(data, orders = c("dmy", "mdy")))
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id),
date = parse_date_time(date, orders = c("dmy", "mdy")))
categorised_feedback
View(categorised_feedback)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
# mutate(user_id = as.numeric(user_id),
#      date = parse_date_time(date, orders = c("dmy", "mdy")))
user_status <- read_csv("data/user_status.csv") |>
select(c(1,2,3)) |>
janitor::clean_names()
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() #|>
View(categorised_feedback)
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id),
date = parse_date_time(date, orders = c("mdy_hms", "dmy_hms", "dmy", "mdy")))
categorised_feedback <- readxl::read_excel("data/Feedback_Classified.xlsx", sheet = 1) |>
janitor::clean_names() |>
mutate(user_id = as.numeric(user_id),
date = parse_date_time(date, orders = c("mdy_HMS", "dmy_HMS", "dmy", "mdy")))
categorised_feedback
View(categorised_feedback)
joined_tb <- left_join(categorised_feedback, user_status, join_by(user_id == meta_user_id))
View(joined_tb)
View(user_status)
user_status <- read_csv("data/user_status.csv") |>
select(c(1,2,3)) |>
janitor::clean_names() |>
filter(!is.na(meta_user_id))
joined_tb <- left_join(categorised_feedback, user_status, join_by(user_id == meta_user_id))
joined_tb
View(joined_tb)
joined_tb <- left_join(categorised_feedback, user_status, join_by(user_id == meta_user_id)) |>
select(code, date, user_id, last_lifecycle_segment)
joined_tb
joined_tb <- left_join(categorised_feedback, user_status, join_by(user_id == meta_user_id))
source("~/Documents/Робота/OBRIO/Demand operations/Powerful_users_feedback/Main.R", echo = TRUE)
counting_ideas <- left_join |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
mutate(number_of_mentions = n()) |>
print()
counting_ideas <- left_join |>
select(c(code, date, user_id, last_lifecycle_segment)) |>
group_by(code) |>
mutate(number_of_mentions = n()) |>
print()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
mutate(number_of_mentions = n()) |>
print()
counting_ideas |>
distinct(last_lifecycle_segment)
counting_ideas |>
count(last_lifecycle_segment)
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
mutate(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned")))|>
print()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
mutate(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned")))|>
view()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
mutate(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
view()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
view()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
print()
counting_ideas |>
count(last_lifecycle_segment) |>
order(number_of_churns)
counting_ideas |>
count(last_lifecycle_segment) |>
order_by(number_of_churns)
counting_ideas |>
count(last_lifecycle_segment)
counting_ideas |>
count(last_lifecycle_segment)
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
print()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
order(number_of_churns) |>
print()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_churns)) |>
print()
View(categorised_feedback)
View(joined_tb)
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_churns)) |>
print()
counting_ideas <- joined_tb |>
select(code, date, user_id, last_lifecycle_segment) |>
filter(str_detect(category, "5")) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_churns)) |>
print()
counting_ideas <- joined_tb |>
filter(str_detect(category, "5")) |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_churns)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5")) |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_churns)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5")) |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_mentions)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") | !str_detect(subcategory, "1.1")) |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_mentions)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id, last_lifecycle_segment) |>
group_by(code) |>
summarise(number_of_mentions = n(),
number_of_churns = sum(str_count(last_lifecycle_segment, "churned"), na.rm = TRUE))|>
arrange(desc(number_of_mentions)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
print()
counting_bugs <- joined_tb |>
filter(str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
print()
library(readxl)
idea_legend <- readxl::read_excel("data/Idea_Dictionary.xlsx") |>
janitor::clean_names() |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
head(5)
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
head(5) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
head(5) |>
left_join(idea_legend, code) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
head(5) |>
left_join(_, idea_legend, code) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
head(5) |>
left_join(counting_ideas, idea_legend, code) |>
print()
View(idea_legend)
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
print()
counting_ideas
counting_ideas
counting_ideas
counting_ideas
counting_ideas
counting_ideas
counting_ideas
counting_ideas
View(counting_ideas)
top_5_ideas <- left_join(counting_ideas, idea_legend, code)
top_5_ideas <- left_join(counting_ideas, idea_legend, by = code)
top_5_ideas <- left_join(counting_ideas, idea_legend, join_by (code == code)
top_5_ideas
top_5_ideas <- left_join(counting_ideas, idea_legend, join_by (code == code))
top_5_ideas
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5") & !str_detect(subcategory, "1.1")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
print()
top_5_ideas <- left_join(counting_ideas, idea_legend, join_by (code == code)) |>
arrange(desc(number_of_mentions)) |>
head(5) |>
print
top_5_ideas <- left_join(counting_ideas, idea_legend, join_by (code == code)) |>
arrange(desc(number_of_mentions)) |>
head(5) |>
print()
View(joined_tb)
left_join(joined_tb, idea_legend, join_by (code == code))
counting_bugs <- left_join(joined_tb, idea_legend, join_by (code == code)) |>
filter(str_detect(subcategory, "1.1")) |>
select(code, date, user_id, idea_y, description, best_quote) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
print()
counting_bugs <- left_join(joined_tb, idea_legend, join_by (code == code)) |>
filter(str_detect(subcategory, "1.1")) |>
select(code, date, user_id, idea.y, description, best_quote) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
arrange(desc(number_of_mentions)) |>
print()
counting_bugs <- left_join(joined_tb, idea_legend, join_by (code == code)) |>
filter(str_detect(subcategory, "1.1")) |>
select(code, date, user_id, idea.y, description, best_quote) |>
group_by(code) |>
summarise(number_of_mentions = n(), idea.y, description, best_quote)|>
arrange(desc(number_of_mentions)) |>
print()
counting_bugs <- counting_ideas |>
filter(str_detect(subcategory, "1.1")) |>
left_join(_, idea_legend, join_by (code == code)) |>
arrange(desc(number_of_mentions)) |>
print()
counting_bugs <- counting_ideas |>
filter(str_detect(subcategory, "1.1")) |>
left_join(x = _, idea_legend, join_by (code == code)) |>
arrange(desc(number_of_mentions)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
print()
top_5_ideas <- left_join(counting_ideas, idea_legend, join_by (code == code)) |>
filter(!str_detect(subcategory, "1.1")) |>
arrange(desc(number_of_mentions)) |>
head(5) |>
print()
top_5_ideas <- left_join(counting_ideas, idea_legend, join_by (code == code)) |>
filter(!str_detect(code, "1.1")) |>
arrange(desc(number_of_mentions)) |>
head(5) |>
print()
counting_bugs <- counting_ideas |>
filter(str_detect(code, "1.1")) |>
left_join(x = _, idea_legend, join_by (code == code)) |>
arrange(desc(number_of_mentions)) |>
print()
bugs_report <- counting_ideas |>
filter(str_detect(code, "1.1")) |>
left_join(x = _, idea_legend, join_by (code == code)) |>
arrange(desc(number_of_mentions)) |>
print()
counting_ideas <- joined_tb |>
filter(!str_detect(category, "5")) |>
select(code, date, user_id) |>
group_by(code) |>
summarise(number_of_mentions = n())|>
left_join(x = _, idea_legend, join_by (code == code)) |>
print()
top_5_ideas <- counting_ideas |>
filter(!str_detect(code, "1.1")) |>
arrange(desc(number_of_mentions)) |>
head(5) |>
print()
bugs_report <- counting_ideas |>
filter(str_detect(code, "1.1")) |>
arrange(desc(number_of_mentions)) |>
print()
write_excel_csv(top_5_ideas, "output/top_5_ideas.xlsx")
write_excel_csv(top_5_ideas, "output/top_5_ideas.csv")
write_excel_csv(top_5_ideas, "output/top_5_ideas.xlsx")
write_excel_csv(top_5_ideas, "output/top_5_ideas.csv", delim = ";")
write_excel_csv(bugs_report, "output/bugs_report.csv", delim = ";")
write_excel_csv(counting_ideas, "output/ideas.csv", delim = ";")
write_excel_csv(bugs_report, "output/bugs_report.csv", delim = ";")
install.packages("kableExtra")
quarto render Feedback_Analysis_Report.qmd --to typst
install.packages("ragg")
